# Auto run all of these scripts
For an automated experience, you can just run `./watch.sh` from the root and not need to run these manually.

You can read about their purpose and how they work below.

## Generating documentation
API documentation is only available in dev, not for production. It can be automatically generated by running:
```bash
# Use the wrapper
./doc.sh

# OR, do it manually:
cd api
yarn install
yarn run docs
```

The output generated into `api/public/documentation.html`, and is gitignored so it doesn't end up in production

To access the documentation, simply start the services (`docker compose up`) and go to `http://localhost:3000/docs`

## Generating protobuf schemas
"write once, use everywhere" the schema.proto will be automatically generated into javascript/typescript files and placed into each relevant, appropriate service, when you run:
```bash
./protos.sh
```

The output generated to api, for example, is `api/src/lib/generated/schema.js`

## Generating Prisma schemas
Just like above, we can also copy the prisma.schema file to every service. They all share the same schema, so why not link them together?
Plus, after prisma.schema is updated, each service needs to run "cd /app && yarn prisma generate" **In the docker container** (because generating in host vs docker generates different versions)

```bash
./prisma.sh
```

So this will help to ensure all your schemas are always up to date, and then your docker containers automatically update their individual node_modules.

## Generating frontend routes
We have all the data as variables in the backend, in a standardized format.
We use that standardized format, and auto generate .ts files for the frontend to have API functions!
Those API functions have typescript types auto generated based on backend yup schema validators, and functions auto generated pre-populated with their appropriate post method and protobuf schema translators.

```bash
./frontend-routes.sh
```

The real magic there is in api/package.json, under `scripts.frontend_api`
I wrote that generator myself :) - Alex

